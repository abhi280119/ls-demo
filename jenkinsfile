pipeline {
	agent any
	
	tools {
  		maven 'M2_HOME'
	}
	
	stages {
		stage('Clean') {
			steps {
				echo '++++++++++++++++++++Clean stage - clearing last build files++++++++++++++++++++'
				sh "mvn clean"
				echo '++++++++++++++++++++Clean stage - last build files have been deleted++++++++++++++++++++'
			}
		}
		
		stage('Compile & Build') {
			steps {
				echo '++++++++++++++++++++Build stage - compiling and building artifact++++++++++++++++++++'
				sh "mvn package"
				echo '++++++++++++++++++++Build stage - build successfully generated++++++++++++++++++++'
			}
		}
	}
}
